# Конфигурация за реални данни от LiveScore

Приложението поддържа няколко източника за актуални футболни мачове:

## 1. Football-Data.org API (Препоръчва се) ✅

**Безплатен, без нужда от API ключ за основно ползване**

### Как работи:
Приложението автоматично се опитва да извлече данни от Football-Data.org за топ европейски лиги:
- Premier League (Англия)
- La Liga (Испания)
- Bundesliga (Германия)
- Serie A (Италия)
- Ligue 1 (Франция)

### За повече заявки (опционално):
1. Отидете на https://www.football-data.org/
2. Регистрирайте се за безплатен акаунт
3. Получете API token
4. Редактирайте `match_scraper.py`, метод `_scrape_football_data()`:
   ```python
   headers = {
       'X-Auth-Token': 'ВАШ_TOKEN_ТУК'
   }
   ```

**Лимити:**
- Без token: 10 заявки на минута
- С безплатен token: 10 заявки на минута, 1000+ лиги
- Pro ($19/месец): 100 заявки на минута, всички лиги

---

## 2. API-Football (Алтернатива)

**По-широко покритие, изисква API ключ**

### Настройка:
1. Регистрирайте се на https://www.api-football.com/
2. Получете безплатен API ключ (100 заявки/ден)
3. В `app.py` променете:
   ```python
   scraper = MatchScraper(api_key='ВАШ_API_KEY', use_livescore=False)
   ```

**Лимити:**
- Free: 100 заявки/ден
- Basic ($15/месец): 3000 заявки/ден
- Pro ($35/месец): 15000 заявки/ден

---

## 3. LiveScore Web Scraping (Експериментално)

**Забележка:** Web scraping е нестабилен метод, тъй като сайтовете често променят структурата.

Текущата имплементация използва:
- FlashScore.com (backup)
- LiveScore API endpoints (ако са достъпни)

### Ограничения:
- Може да се счупи при промяна на HTML структурата
- По-бавно от API заявки
- Риск от блокиране при твърде много заявки

---

## Как да превключвате между източници:

### В `app.py`:

```python
# За Football-Data.org (по подразбиране - препоръчва се)
scraper = MatchScraper(use_livescore=True)

# За API-Football
scraper = MatchScraper(api_key='ВАШ_API_KEY', use_livescore=False)

# За Demo данни (тестване)
scraper = MatchScraper(use_livescore=False)
```

---

## Проверка на статуса:

След стартиране на приложението, отворете:
http://localhost:5000/api/matches

Ще видите:
- Ако използва реални данни: актуални мачове за деня
- Ако използва demo: 5 примерни мача (Man Utd vs Liverpool, Real vs Barca и т.н.)

---

## Решаване на проблеми:

### Проблем: Винаги вижда demo данни

**Решение:**
1. Проверете интернет връзката
2. Изчакайте 5-10 секунди за заявките
3. Проверете дали има мачове днес (в уикенд има повече)
4. Прегледайте грешки в конзолата

### Проблем: API лимит достигнат

**Решение:**
- Използвайте кеширане (добавете в бъдеще)
- Превключете към друг източник
- Изчакайте reset на лимита

### Проблем: Encoding грешки (кирилица)

**Решение:**
- Вече поправено в последната версия
- Всички print statements използват ASCII

---

## Препоръка за продукция:

1. **Начало:** Football-Data.org (безплатно, надеждно)
2. **По-голям трафик:** API-Football Basic план
3. **Професионално:** Комбинация от няколко API с failover логика
4. **Кеширане:** Добавете Redis/SQLite за намаляване на заявки

---

## Бъдещи подобрения:

- [ ] Кеширане на резултати (30 минути)
- [ ] Автоматично обновяване на страницата
- [ ] Поддръжка на повече лиги
- [ ] Исторически данни
- [ ] Машинно обучение за по-точни прогнози

